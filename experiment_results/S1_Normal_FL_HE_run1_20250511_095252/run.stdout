Added parent's parent directory to sys.path: /home/dhanraj/autonomous_orchestrator
2025-05-11 09:53:01 - root                      - INFO     - Logging to console and to file: experiment_results/S1_Normal_FL_HE_run1_20250511_095252/results/run_logs/fl_data_S1_Normal_FL_HE_run1_run_20250511_095301.log
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Loaded configuration from: experiment_results/S1_Normal_FL_HE_run1_20250511_095252/config_for_run.yaml
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Project: fl_data_S1_Normal_FL_HE_run1, Task: binary_classification
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - HE Enabled: True, DP Enabled: False
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Loaded configuration from: experiment_results/S1_Normal_FL_HE_run1_20250511_095252/config_for_run.yaml
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Using base dataset: /home/dhanraj/autonomous_orchestrator/federated_learning_framework/examples/data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Preparing data for 10 clients from /home/dhanraj/autonomous_orchestrator/federated_learning_framework/examples/data.csv...
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Full dataset loaded: (569, 33)
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Applying non-IID data split for binary classification...
2025-05-11 09:53:01 - cancer_detection_main     - WARNING  - Target column 'diagnosis' is not numeric. Attempting LabelEncoding.
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Applied LabelEncoder. Mapped classes: ['B' 'M'] to [0, 1]
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Class distribution: 212 positive (1), 357 negative (0)
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_1: 56 samples (5 pos, 51 neg). Saved to client_data/client_1_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_2: 56 samples (10 pos, 46 neg). Saved to client_data/client_2_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_3: 56 samples (15 pos, 41 neg). Saved to client_data/client_3_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_4: 56 samples (20 pos, 36 neg). Saved to client_data/client_4_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_5: 56 samples (25 pos, 31 neg). Saved to client_data/client_5_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_6: 56 samples (30 pos, 26 neg). Saved to client_data/client_6_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_7: 56 samples (35 pos, 21 neg). Saved to client_data/client_7_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_8: 56 samples (40 pos, 16 neg). Saved to client_data/client_8_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - WARNING  - client_9: Not enough unique positive samples (32/45). Sampling with replacement.
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_9: 56 samples (45 pos, 11 neg). Saved to client_data/client_9_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - WARNING  - client_10: Not enough unique positive samples (0/58). Sampling with replacement.
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Created dataset for client_10: 65 samples (58 pos, 7 neg). Saved to client_data/client_10_data.csv
2025-05-11 09:53:01 - cancer_detection_main     - INFO     - Initializing Federated Server...
2025-05-11 09:53:01 - federated.server          - INFO     - Using device: cpu
2025-05-11 09:53:01 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.11 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.server          - INFO     - Federated server initialized for project 'fl_data_S1_Normal_FL_HE_run1'.
2025-05-11 09:53:02 - federated.server          - INFO     - Starting federated learning server...
2025-05-11 09:53:02 - federated.server          - INFO     - Initializing server evaluation data...
2025-05-11 09:53:02 - data_handler              - INFO     - Calculated pos_weight: 1.6840 (neg_count=357, pos_count=212)
2025-05-11 09:53:02 - data_handler              - INFO     - Global pos_weight set in config: 1.6840
2025-05-11 09:53:02 - data_handler              - INFO     - Attempting to load data from: /home/dhanraj/autonomous_orchestrator/federated_learning_framework/examples/data.csv
2025-05-11 09:53:02 - data_handler              - INFO     - Loaded DataFrame: 569 rows, 33 columns from /home/dhanraj/autonomous_orchestrator/federated_learning_framework/examples/data.csv
2025-05-11 09:53:02 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:02 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:02 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:02 - data_handler              - INFO     - Final feature matrix shape: (569, 31)
2025-05-11 09:53:02 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:02 - data_handler              - INFO     - Fitted LabelEncoder. Classes: ['B' 'M']
2025-05-11 09:53:02 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([357, 212]))
2025-05-11 09:53:02 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:02 - data_handler              - WARNING  - Input shape mismatch after preprocessing. Updating config input_shape from [32] to [31]
2025-05-11 09:53:02 - data_handler              - INFO     - Creating TabularDataset with feature shape (569, 31) and target shape (569,), target dtype torch.float32
2025-05-11 09:53:02 - data_handler              - INFO     - Splitting data: Total=569, Train=399, Val=85, Test=85
2025-05-11 09:53:02 - data_handler              - INFO     - DataLoaders created. Train batches: 12, Val batches: 2, Test batches: 2
2025-05-11 09:53:02 - federated.server          - INFO     - Server evaluation data loaded: Validation=85 samples, Test=85 samples
2025-05-11 09:53:02 - federated.server          - INFO     - Creating global model...
2025-05-11 09:53:02 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:02 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:02 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:02 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:02 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:02 - federated.server          - INFO     - Global model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:02 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_initial.pt
2025-05-11 09:53:02 - crypto_engine             - INFO     - Public context saved to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/crypto_context.tenseal
2025-05-11 09:53:02 - crypto_engine             - ERROR    - Failed to save secret key to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/crypto_context_sk.tenseal: 'SecretKey' object has no attribute 'serialize'
Traceback (most recent call last):
  File "/home/dhanraj/autonomous_orchestrator/federated_learning_framework/crypto_engine.py", line 485, in save_context_to_file
    secret_key_bytes = self.secret_key.serialize()
AttributeError: 'SecretKey' object has no attribute 'serialize'
2025-05-11 09:53:02 - federated.server          - INFO     - Server startup complete. Waiting for clients...
2025-05-11 09:53:02 - cancer_detection_main     - INFO     - Server initialized successfully.
2025-05-11 09:53:02 - cancer_detection_main     - INFO     - Initializing 10 Federated Clients...
2025-05-11 09:53:02 - cancer_detection_main     - INFO     - Assigning roles: 0 noisy clients, 0 adversarial clients.
2025-05-11 09:53:02 - federated.client.client_1 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.08 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_1 - INFO     - Federated client 'client_1' created. Data: client_data/client_1_data.csv
2025-05-11 09:53:02 - federated.client.client_2 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.08 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_2 - INFO     - Federated client 'client_2' created. Data: client_data/client_2_data.csv
2025-05-11 09:53:02 - federated.client.client_3 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_3 - INFO     - Federated client 'client_3' created. Data: client_data/client_3_data.csv
2025-05-11 09:53:02 - federated.client.client_4 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_4 - INFO     - Federated client 'client_4' created. Data: client_data/client_4_data.csv
2025-05-11 09:53:02 - federated.client.client_5 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_5 - INFO     - Federated client 'client_5' created. Data: client_data/client_5_data.csv
2025-05-11 09:53:02 - federated.client.client_6 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_6 - INFO     - Federated client 'client_6' created. Data: client_data/client_6_data.csv
2025-05-11 09:53:02 - federated.client.client_7 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:02 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:02 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:02 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:02 - federated.client.client_7 - INFO     - Federated client 'client_7' created. Data: client_data/client_7_data.csv
2025-05-11 09:53:02 - federated.client.client_8 - INFO     - Using device: cpu
2025-05-11 09:53:02 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:03 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:03 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Federated client 'client_8' created. Data: client_data/client_8_data.csv
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Using device: cpu
2025-05-11 09:53:03 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:03 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:03 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Federated client 'client_9' created. Data: client_data/client_9_data.csv
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Using device: cpu
2025-05-11 09:53:03 - crypto_engine             - INFO     - Initializing CKKS homomorphic encryption...
2025-05-11 09:53:03 - crypto_engine             - INFO     - TenSEAL context created in 0.09 seconds.
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully initialized CKKS encryption context.
2025-05-11 09:53:03 - data_handler              - INFO     - Data handler initialized.
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Federated client 'client_10' created. Data: client_data/client_10_data.csv
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_1_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_1_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([51,  5]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_1 - INFO     - Client 'client_1' initialization successful.
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_2_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_2_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([46, 10]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_2 - INFO     - Client 'client_2' initialization successful.
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_3_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_3_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([41, 15]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_3 - INFO     - Client 'client_3' initialization successful.
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_4_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_4_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([36, 20]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_4 - INFO     - Client 'client_4' initialization successful.
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_5_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_5_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([31, 25]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_5 - INFO     - Client 'client_5' initialization successful.
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_6_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_6_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([26, 30]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_6 - INFO     - Client 'client_6' initialization successful.
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_7_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_7_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([21, 35]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_7 - INFO     - Client 'client_7' initialization successful.
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_8_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_8_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([16, 40]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_8 - INFO     - Client 'client_8' initialization successful.
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_9_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 56 rows, 33 columns from client_data/client_9_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (56, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([11, 45]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (56, 31) and target shape (56,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=56, Train=48, Val=8, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Dataset loaded: 48 training samples, 8 validation samples.
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_9 - INFO     - Client 'client_9' initialization successful.
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Initializing client...
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Loading local dataset...
2025-05-11 09:53:03 - data_handler              - INFO     - Attempting to load data from: client_data/client_10_data.csv
2025-05-11 09:53:03 - data_handler              - INFO     - Loaded DataFrame: 65 rows, 33 columns from client_data/client_10_data.csv
2025-05-11 09:53:03 - data_handler              - WARNING  - Dropping identified problematic columns: ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - WARNING  - Specified feature columns not used (missing or dropped): ['Unnamed: 32']
2025-05-11 09:53:03 - data_handler              - INFO     - Using 31 feature columns: ['id', 'radius_mean', 'texture_mean', 'perimeter_mean', 'area_mean', 'smoothness_mean', 'compactness_mean', 'concavity_mean', 'concave points_mean', 'symmetry_mean']...
2025-05-11 09:53:03 - data_handler              - INFO     - Final feature matrix shape: (65, 31)
2025-05-11 09:53:03 - data_handler              - INFO     - Processing target 'diagnosis' for classification.
2025-05-11 09:53:03 - data_handler              - INFO     - Fitted LabelEncoder. Classes: [0 1]
2025-05-11 09:53:03 - data_handler              - INFO     - Target distribution: (array([0, 1]), array([ 7, 58]))
2025-05-11 09:53:03 - data_handler              - INFO     - Fitting StandardScaler on features.
2025-05-11 09:53:03 - data_handler              - INFO     - Creating TabularDataset with feature shape (65, 31) and target shape (65,), target dtype torch.float32
2025-05-11 09:53:03 - data_handler              - INFO     - Splitting data: Total=65, Train=56, Val=9, Test=0
2025-05-11 09:53:03 - data_handler              - INFO     - No test set created (test_split=0 or dataset too small).
2025-05-11 09:53:03 - data_handler              - INFO     - DataLoaders created. Train batches: 1, Val batches: 1, Test batches: 0
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Dataset loaded: 56 training samples, 9 validation samples.
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Data loading complete. Final Input Shape: [31], Final Output Shape: [1]
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Creating local model...
2025-05-11 09:53:03 - models.factory            - INFO     - Attempting to create model 'binary_classifier' for task 'binary_classification'
2025-05-11 09:53:03 - models.factory            - INFO     - Derived Dims: Input=31 (from shape [31]), Output=1 (from shape [1])
2025-05-11 09:53:03 - models.factory            - INFO     - Config Settings: Hidden=[64, 32], Activation=relu, Dropout=0.3
2025-05-11 09:53:03 - models.MLP                - INFO     - Creating MLP: input=31, hidden=[64, 32], output=1, activation=relu, dropout=0.3, task=binary_classification
2025-05-11 09:53:03 - models.MLP                - INFO     - Added BatchNorm1d layers to MLP.
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Model 'binary_classifier' created and moved to cpu.
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Loading public crypto context from server...
2025-05-11 09:53:03 - crypto_engine             - INFO     - Successfully loaded public TenSEAL context.
2025-05-11 09:53:03 - federated.client.client_10 - INFO     - Client 'client_10' initialization successful.
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_1 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_1 - Info: {'client_id': 'client_1', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.864757'}
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_2 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_2 - Info: {'client_id': 'client_2', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.886173'}
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_3 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_3 - Info: {'client_id': 'client_3', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.907376'}
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_4 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_4 - Info: {'client_id': 'client_4', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.928463'}
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_5 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_5 - Info: {'client_id': 'client_5', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.950194'}
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_6 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_6 - Info: {'client_id': 'client_6', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.970886'}
2025-05-11 09:53:03 - cancer_detection_main     - INFO     - Client client_7 initialized successfully.
2025-05-11 09:53:03 - federated.server          - INFO     - Registering new client: client_7 - Info: {'client_id': 'client_7', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:03.991477'}
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - Client client_8 initialized successfully.
2025-05-11 09:53:04 - federated.server          - INFO     - Registering new client: client_8 - Info: {'client_id': 'client_8', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:04.012022'}
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - Client client_9 initialized successfully.
2025-05-11 09:53:04 - federated.server          - INFO     - Registering new client: client_9 - Info: {'client_id': 'client_9', 'train_size': 48, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:04.034734'}
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - Client client_10 initialized successfully.
2025-05-11 09:53:04 - federated.server          - INFO     - Registering new client: client_10 - Info: {'client_id': 'client_10', 'train_size': 56, 'device': 'cpu', 'supports_encryption': True, 'status': 'idle', 'input_shape': [31], 'output_shape': [1], 'task_type': 'binary_classification', 'timestamp': '2025-05-11T09:53:04.055369'}
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - Initialized 10/10 clients.
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - Starting federated learning process for 20 rounds...
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - ----- Orchestrating Round 1 -----
2025-05-11 09:53:04 - federated.server          - INFO     - ===== Starting Round 1/20 =====
2025-05-11 09:53:04 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:04 - federated.server          - INFO     - Selected 2 clients for round 1: ['client_9', 'client_2']
2025-05-11 09:53:04 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:04 - cancer_detection_main     - INFO     - Round 1: Server selected clients: ['client_9', 'client_2']
2025-05-11 09:53:04 - federated.client.client_9 - INFO     - Starting local training for round 1...
2025-05-11 09:53:04 - federated.client.client_9 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:04 - federated.client.client_9 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Epoch 1/3 finished in 1.46s. Avg Train Loss: 0.6892, Train Accuracy: 0.4375
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.5990, Train Accuracy: 0.8438
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.5341, Train Accuracy: 0.8438
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Validation Metrics: Loss=0.6355, Acc=0.7500
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Local training round 1 completed in 1.51s.
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Metrics: Train Loss=0.6074, Train Acc=0.7083, Val Loss=0.6355, Val Acc=0.7500
2025-05-11 09:53:05 - federated.client.client_9 - INFO     - Final calculated quality score for round 1: 1.646278e+00 (from avg_train_loss: 0.6074297428131104)
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Starting local training for round 1...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.7148, Train Accuracy: 0.4062
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.5733, Train Accuracy: 0.7812
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4837, Train Accuracy: 0.9062
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.5707, Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Local training round 1 completed in 0.04s.
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.5906, Train Acc=0.6979, Val Loss=0.5707, Val Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Final calculated quality score for round 1: 1.693113e+00 (from avg_train_loss: 0.5906270245711008)
2025-05-11 09:53:05 - federated.server          - INFO     - Stored update from client client_9 for round 1. (1/2 received)
2025-05-11 09:53:05 - federated.server          - INFO     - Stored update from client client_2 for round 1. (2/2 received)
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - Round 1: Submitted 2 successful updates to server.
2025-05-11 09:53:05 - federated.server          - INFO     - Finalizing Round 1...
2025-05-11 09:53:05 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:05 - federated.server          - INFO     - Raw quality scores received: [1.6462782166224212, 1.6931130227458724]
2025-05-11 09:53:05 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:05 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:05 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:05 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:05 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:05 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:05 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:05 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:05 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:05 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:05 - federated.server          - INFO     - Round 1 Validation Metrics: {'loss': 0.6065437695559334, 'accuracy': 0.8470588235294118, 'precision': 0.6923076923076923, 'recall': 0.9642857142857143, 'f1_score': 0.8059701492537313, 'auc': 0.9912280701754386}
2025-05-11 09:53:05 - federated.server          - INFO     - New best model found! Round 1, accuracy: 0.8471
2025-05-11 09:53:05 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_best.pt
2025-05-11 09:53:05 - federated.server          - INFO     - Round 1 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.6065, Acc=0.8471 | Avg Client Train Loss=0.5990, Acc=0.7031
2025-05-11 09:53:05 - federated.server          - INFO     - ===== Finished Round 1 =====
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - ----- Orchestrating Round 2 -----
2025-05-11 09:53:05 - federated.server          - INFO     - ===== Starting Round 2/20 =====
2025-05-11 09:53:05 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:05 - federated.server          - INFO     - Selected 2 clients for round 2: ['client_1', 'client_2']
2025-05-11 09:53:05 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - Round 2: Server selected clients: ['client_1', 'client_2']
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Starting local training for round 2...
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.6294, Train Accuracy: 0.6562
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.5260, Train Accuracy: 0.7500
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.5014, Train Accuracy: 0.8750
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Validation Metrics: Loss=0.5841, Acc=0.8750
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Local training round 2 completed in 0.04s.
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Metrics: Train Loss=0.5522, Train Acc=0.7604, Val Loss=0.5841, Val Acc=0.8750
2025-05-11 09:53:05 - federated.client.client_1 - INFO     - Final calculated quality score for round 2: 1.810794e+00 (from avg_train_loss: 0.5522428750991821)
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Starting local training for round 2...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.5562, Train Accuracy: 0.7812
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.4516, Train Accuracy: 0.9688
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4435, Train Accuracy: 0.9688
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.4928, Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Local training round 2 completed in 0.04s.
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.4837, Train Acc=0.9062, Val Loss=0.4928, Val Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Final calculated quality score for round 2: 2.067182e+00 (from avg_train_loss: 0.4837494095166524)
2025-05-11 09:53:05 - federated.server          - INFO     - Stored update from client client_1 for round 2. (1/2 received)
2025-05-11 09:53:05 - federated.server          - INFO     - Stored update from client client_2 for round 2. (2/2 received)
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - Round 2: Submitted 2 successful updates to server.
2025-05-11 09:53:05 - federated.server          - INFO     - Finalizing Round 2...
2025-05-11 09:53:05 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:05 - federated.server          - INFO     - Raw quality scores received: [1.8107941891078494, 2.067181712567783]
2025-05-11 09:53:05 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:05 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:05 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:05 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:05 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:05 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:05 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:05 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:05 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:05 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:05 - federated.server          - INFO     - Round 2 Validation Metrics: {'loss': 0.5398338009329403, 'accuracy': 0.9411764705882353, 'precision': 0.896551724137931, 'recall': 0.9285714285714286, 'f1_score': 0.9122807017543859, 'auc': 0.987468671679198}
2025-05-11 09:53:05 - federated.server          - INFO     - New best model found! Round 2, accuracy: 0.9412
2025-05-11 09:53:05 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_best.pt
2025-05-11 09:53:05 - federated.server          - INFO     - Round 2 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.5398, Acc=0.9412 | Avg Client Train Loss=0.5180, Acc=0.8333
2025-05-11 09:53:05 - federated.server          - INFO     - ===== Finished Round 2 =====
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - ----- Orchestrating Round 3 -----
2025-05-11 09:53:05 - federated.server          - INFO     - ===== Starting Round 3/20 =====
2025-05-11 09:53:05 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:05 - federated.server          - INFO     - Selected 2 clients for round 3: ['client_10', 'client_3']
2025-05-11 09:53:05 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - Round 3: Server selected clients: ['client_10', 'client_3']
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Starting local training for round 3...
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 1.0068, Train Accuracy: 0.3438
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.9125, Train Accuracy: 0.2812
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.7430, Train Accuracy: 0.4688
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Validation Metrics: Loss=0.6146, Acc=0.7778
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Local training round 3 completed in 0.04s.
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Metrics: Train Loss=0.8874, Train Acc=0.3646, Val Loss=0.6146, Val Acc=0.7778
2025-05-11 09:53:05 - federated.client.client_10 - INFO     - Final calculated quality score for round 3: 1.126898e+00 (from avg_train_loss: 0.8873905539512634)
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Starting local training for round 3...
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3994, Train Accuracy: 0.9375
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.3730, Train Accuracy: 0.9062
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.3016, Train Accuracy: 0.9375
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.4650, Acc=0.7500
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Local training round 3 completed in 0.05s.
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.3580, Train Acc=0.9271, Val Loss=0.4650, Val Acc=0.7500
2025-05-11 09:53:05 - federated.client.client_3 - INFO     - Final calculated quality score for round 3: 2.793118e+00 (from avg_train_loss: 0.3580217858155568)
2025-05-11 09:53:05 - federated.server          - INFO     - Stored update from client client_10 for round 3. (1/2 received)
2025-05-11 09:53:05 - federated.server          - INFO     - Stored update from client client_3 for round 3. (2/2 received)
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - Round 3: Submitted 2 successful updates to server.
2025-05-11 09:53:05 - federated.server          - INFO     - Finalizing Round 3...
2025-05-11 09:53:05 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:05 - federated.server          - INFO     - Raw quality scores received: [1.1268982621564607, 2.7931183143052007]
2025-05-11 09:53:05 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:05 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.538', '0.462']
2025-05-11 09:53:05 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:05 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:05 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:05 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:05 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:05 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:05 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:05 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:05 - federated.server          - INFO     - Round 3 Validation Metrics: {'loss': 0.5100957975668066, 'accuracy': 0.9294117647058824, 'precision': 0.84375, 'recall': 0.9642857142857143, 'f1_score': 0.9, 'auc': 0.9949874686716793}
2025-05-11 09:53:05 - federated.server          - INFO     - Round 3 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.5101, Acc=0.9294 | Avg Client Train Loss=0.6431, Acc=0.6242
2025-05-11 09:53:05 - federated.server          - INFO     - ===== Finished Round 3 =====
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - ----- Orchestrating Round 4 -----
2025-05-11 09:53:05 - federated.server          - INFO     - ===== Starting Round 4/20 =====
2025-05-11 09:53:05 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:05 - federated.server          - INFO     - Selected 2 clients for round 4: ['client_2', 'client_8']
2025-05-11 09:53:05 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:05 - cancer_detection_main     - INFO     - Round 4: Server selected clients: ['client_2', 'client_8']
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Starting local training for round 4...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.4186, Train Accuracy: 0.9375
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.3125, Train Accuracy: 1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.2912, Train Accuracy: 1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.3913, Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Local training round 4 completed in 0.05s.
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.3408, Train Acc=0.9792, Val Loss=0.3913, Val Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_2 - INFO     - Final calculated quality score for round 4: 2.934523e+00 (from avg_train_loss: 0.3407698969046275)
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Starting local training for round 4...
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.5509, Train Accuracy: 0.6562
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.3946, Train Accuracy: 0.8438
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4499, Train Accuracy: 0.8125
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Validation Metrics: Loss=0.3581, Acc=1.0000
2025-05-11 09:53:05 - federated.client.client_8 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_8 - INFO     - Local training round 4 completed in 0.05s.
2025-05-11 09:53:06 - federated.client.client_8 - INFO     - Metrics: Train Loss=0.4651, Train Acc=0.7708, Val Loss=0.3581, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_8 - INFO     - Final calculated quality score for round 4: 2.149942e+00 (from avg_train_loss: 0.4651279052098592)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_2 for round 4. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_8 for round 4. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 4: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 4...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [2.9345228981801017, 2.149941637251753]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 4 Validation Metrics: {'loss': 0.4284586093005012, 'accuracy': 0.9411764705882353, 'precision': 0.8709677419354839, 'recall': 0.9642857142857143, 'f1_score': 0.9152542372881356, 'auc': 0.9943609022556391}
2025-05-11 09:53:06 - federated.server          - INFO     - Round 4 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.4285, Acc=0.9412 | Avg Client Train Loss=0.4029, Acc=0.8750
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 4 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 5 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 5/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 5: ['client_2', 'client_6']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 5: Server selected clients: ['client_2', 'client_6']
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Starting local training for round 5...
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3310, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2853, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.2426, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.3169, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Local training round 5 completed in 0.05s.
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.2863, Train Acc=0.9792, Val Loss=0.3169, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Final calculated quality score for round 5: 3.493181e+00 (from avg_train_loss: 0.28627102573712665)
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Starting local training for round 5...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.4203, Train Accuracy: 0.8438
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2767, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.2347, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Validation Metrics: Loss=0.2153, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Local training round 5 completed in 0.05s.
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Metrics: Train Loss=0.3106, Train Acc=0.9375, Val Loss=0.2153, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Final calculated quality score for round 5: 3.219873e+00 (from avg_train_loss: 0.31057026485602063)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_2 for round 5. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_6 for round 5. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 5: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 5...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [3.4931809960302034, 3.2198729024837354]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 5 Validation Metrics: {'loss': 0.3248686176889083, 'accuracy': 0.9529411764705882, 'precision': 0.9, 'recall': 0.9642857142857143, 'f1_score': 0.9310344827586207, 'auc': 0.9949874686716792}
2025-05-11 09:53:06 - federated.server          - INFO     - New best model found! Round 5, accuracy: 0.9529
2025-05-11 09:53:06 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_best.pt
2025-05-11 09:53:06 - federated.server          - INFO     - Round 5 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.3249, Acc=0.9529 | Avg Client Train Loss=0.2984, Acc=0.9583
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 5 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 6 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 6/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 6: ['client_9', 'client_3']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 6: Server selected clients: ['client_9', 'client_3']
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Starting local training for round 6...
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.7353, Train Accuracy: 0.5938
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.5632, Train Accuracy: 0.6875
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4116, Train Accuracy: 0.8125
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Validation Metrics: Loss=1.0164, Acc=0.5000
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Local training round 6 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Metrics: Train Loss=0.5700, Train Acc=0.6979, Val Loss=1.0164, Val Acc=0.5000
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Final calculated quality score for round 6: 1.754296e+00 (from avg_train_loss: 0.5700282255808512)
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Starting local training for round 6...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3449, Train Accuracy: 0.8438
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2621, Train Accuracy: 0.9062
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.2382, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.3437, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Local training round 6 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.2818, Train Acc=0.9062, Val Loss=0.3437, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Final calculated quality score for round 6: 3.549091e+00 (from avg_train_loss: 0.28176124890645343)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_9 for round 6. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_3 for round 6. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 6: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 6...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [1.7542960169823134, 3.5490914907199134]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 6 Validation Metrics: {'loss': 0.3109254826517666, 'accuracy': 0.9529411764705882, 'precision': 0.9, 'recall': 0.9642857142857143, 'f1_score': 0.9310344827586207, 'auc': 0.9962406015037594}
2025-05-11 09:53:06 - federated.server          - INFO     - Round 6 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.3109, Acc=0.9529 | Avg Client Train Loss=0.4259, Acc=0.8021
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 6 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 7 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 7/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 7: ['client_1', 'client_6']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 7: Server selected clients: ['client_1', 'client_6']
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Starting local training for round 7...
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.6140, Train Accuracy: 0.5938
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.4705, Train Accuracy: 0.7188
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4252, Train Accuracy: 0.8750
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Validation Metrics: Loss=0.4459, Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Local training round 7 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Metrics: Train Loss=0.5032, Train Acc=0.7292, Val Loss=0.4459, Val Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Final calculated quality score for round 7: 1.987192e+00 (from avg_train_loss: 0.5032217601935068)
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Starting local training for round 7...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.1939, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2262, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1580, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Validation Metrics: Loss=0.1191, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Local training round 7 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Metrics: Train Loss=0.1927, Train Acc=0.9792, Val Loss=0.1191, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Final calculated quality score for round 7: 5.188893e+00 (from avg_train_loss: 0.19271833201249441)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_1 for round 7. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_6 for round 7. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 7: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 7...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [1.9871915165670662, 5.18889303713012]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 7 Validation Metrics: {'loss': 0.26703133267514845, 'accuracy': 0.9529411764705882, 'precision': 0.9, 'recall': 0.9642857142857143, 'f1_score': 0.9310344827586207, 'auc': 0.9962406015037594}
2025-05-11 09:53:06 - federated.server          - INFO     - Round 7 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.2670, Acc=0.9529 | Avg Client Train Loss=0.3480, Acc=0.8542
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 7 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 8 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 8/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 8: ['client_5', 'client_9']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 8: Server selected clients: ['client_5', 'client_9']
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Starting local training for round 8...
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.2718, Train Accuracy: 0.9062
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1682, Train Accuracy: 0.9375
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1359, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Validation Metrics: Loss=0.2511, Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Local training round 8 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Metrics: Train Loss=0.1920, Train Acc=0.9479, Val Loss=0.2511, Val Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Final calculated quality score for round 8: 5.209075e+00 (from avg_train_loss: 0.1919716695944468)
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Starting local training for round 8...
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.6016, Train Accuracy: 0.7500
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.6115, Train Accuracy: 0.7812
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.3725, Train Accuracy: 0.9375
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Validation Metrics: Loss=1.2076, Acc=0.5000
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Local training round 8 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Metrics: Train Loss=0.5286, Train Acc=0.8229, Val Loss=1.2076, Val Acc=0.5000
2025-05-11 09:53:06 - federated.client.client_9 - INFO     - Final calculated quality score for round 8: 1.891950e+00 (from avg_train_loss: 0.5285542408625284)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_5 for round 8. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_9 for round 8. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 8: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 8...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [5.209074823580653, 1.8919498336032756]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 8 Validation Metrics: {'loss': 0.22725932229967677, 'accuracy': 0.9647058823529412, 'precision': 0.9310344827586207, 'recall': 0.9642857142857143, 'f1_score': 0.9473684210526315, 'auc': 0.9956140350877193}
2025-05-11 09:53:06 - federated.server          - INFO     - New best model found! Round 8, accuracy: 0.9647
2025-05-11 09:53:06 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_best.pt
2025-05-11 09:53:06 - federated.server          - INFO     - Round 8 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.2273, Acc=0.9647 | Avg Client Train Loss=0.3603, Acc=0.8854
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 8 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 9 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 9/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 9: ['client_3', 'client_1']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 9: Server selected clients: ['client_3', 'client_1']
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Starting local training for round 9...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3020, Train Accuracy: 0.8125
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2174, Train Accuracy: 0.9375
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.2352, Train Accuracy: 0.8750
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.3054, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Local training round 9 completed in 0.05s.
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.2515, Train Acc=0.8750, Val Loss=0.3054, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Final calculated quality score for round 9: 3.975592e+00 (from avg_train_loss: 0.2515338559945424)
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Starting local training for round 9...
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.6309, Train Accuracy: 0.7188
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.4713, Train Accuracy: 0.7188
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.3036, Train Accuracy: 0.8750
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Validation Metrics: Loss=0.3901, Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Local training round 9 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Metrics: Train Loss=0.4686, Train Acc=0.7708, Val Loss=0.3901, Val Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_1 - INFO     - Final calculated quality score for round 9: 2.133928e+00 (from avg_train_loss: 0.46861833333969116)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_3 for round 9. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_1 for round 9. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 9: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 9...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [3.9755921542010753, 2.1339281776390635]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 9 Validation Metrics: {'loss': 0.25144044266027565, 'accuracy': 0.9647058823529412, 'precision': 0.9310344827586207, 'recall': 0.9642857142857143, 'f1_score': 0.9473684210526315, 'auc': 0.9956140350877194}
2025-05-11 09:53:06 - federated.server          - INFO     - Round 9 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.2514, Acc=0.9647 | Avg Client Train Loss=0.3601, Acc=0.8229
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 9 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 10 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 10/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 10: ['client_5', 'client_3']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 10: Server selected clients: ['client_5', 'client_3']
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Starting local training for round 10...
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.2248, Train Accuracy: 0.9062
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1405, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1325, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Validation Metrics: Loss=0.2808, Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Saved checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/client_client_5/model_round_round_10.pt
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Local training round 10 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Metrics: Train Loss=0.1659, Train Acc=0.9479, Val Loss=0.2808, Val Acc=0.8750
2025-05-11 09:53:06 - federated.client.client_5 - INFO     - Final calculated quality score for round 10: 6.027475e+00 (from avg_train_loss: 0.16590596238772073)
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Starting local training for round 10...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.1568, Train Accuracy: 0.9375
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0703, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1395, Train Accuracy: 0.9062
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.2130, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Saved checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/client_client_3/model_round_round_10.pt
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Local training round 10 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.1222, Train Acc=0.9479, Val Loss=0.2130, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Final calculated quality score for round 10: 8.183518e+00 (from avg_train_loss: 0.12219584236542384)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_5 for round 10. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_3 for round 10. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 10: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 10...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [6.027474589420926, 8.183517516840146]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 10 Validation Metrics: {'loss': 0.19014321477974164, 'accuracy': 0.9411764705882353, 'precision': 0.896551724137931, 'recall': 0.9285714285714286, 'f1_score': 0.9122807017543859, 'auc': 0.9943609022556391}
2025-05-11 09:53:06 - federated.server          - INFO     - Round 10 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1901, Acc=0.9412 | Avg Client Train Loss=0.1441, Acc=0.9479
2025-05-11 09:53:06 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_round_10.pt
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 10 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 11 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 11/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 11: ['client_6', 'client_3']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 11: Server selected clients: ['client_6', 'client_3']
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Starting local training for round 11...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.1647, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2504, Train Accuracy: 0.9375
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1454, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Validation Metrics: Loss=0.0587, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Local training round 11 completed in 0.04s.
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Metrics: Train Loss=0.1868, Train Acc=0.9583, Val Loss=0.0587, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_6 - INFO     - Final calculated quality score for round 11: 5.352384e+00 (from avg_train_loss: 0.18683162331581116)
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Starting local training for round 11...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.1673, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1077, Train Accuracy: 0.9688
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1022, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.2171, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Local training round 11 completed in 0.05s.
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.1257, Train Acc=0.9792, Val Loss=0.2171, Val Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_3 - INFO     - Final calculated quality score for round 11: 7.955081e+00 (from avg_train_loss: 0.1257048174738884)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_6 for round 11. (1/2 received)
2025-05-11 09:53:06 - federated.server          - INFO     - Stored update from client client_3 for round 11. (2/2 received)
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 11: Submitted 2 successful updates to server.
2025-05-11 09:53:06 - federated.server          - INFO     - Finalizing Round 11...
2025-05-11 09:53:06 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:06 - federated.server          - INFO     - Raw quality scores received: [5.3523843012665795, 7.955081316803177]
2025-05-11 09:53:06 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:06 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:06 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:06 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:06 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:06 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:06 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:06 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.04s.
2025-05-11 09:53:06 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:06 - federated.server          - INFO     - Round 11 Validation Metrics: {'loss': 0.15517974758849423, 'accuracy': 0.9764705882352941, 'precision': 0.9642857142857143, 'recall': 0.9642857142857143, 'f1_score': 0.9642857142857143, 'auc': 0.9974937343358397}
2025-05-11 09:53:06 - federated.server          - INFO     - New best model found! Round 11, accuracy: 0.9765
2025-05-11 09:53:06 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_best.pt
2025-05-11 09:53:06 - federated.server          - INFO     - Round 11 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1552, Acc=0.9765 | Avg Client Train Loss=0.1563, Acc=0.9688
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Finished Round 11 =====
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - ----- Orchestrating Round 12 -----
2025-05-11 09:53:06 - federated.server          - INFO     - ===== Starting Round 12/20 =====
2025-05-11 09:53:06 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:06 - federated.server          - INFO     - Selected 2 clients for round 12: ['client_2', 'client_6']
2025-05-11 09:53:06 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:06 - cancer_detection_main     - INFO     - Round 12: Server selected clients: ['client_2', 'client_6']
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Starting local training for round 12...
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.2262, Train Accuracy: 0.9062
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1017, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1151, Train Accuracy: 1.0000
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.1384, Acc=1.0000
2025-05-11 09:53:06 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Local training round 12 completed in 0.05s.
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.1477, Train Acc=0.9688, Val Loss=0.1384, Val Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Final calculated quality score for round 12: 6.772427e+00 (from avg_train_loss: 0.1476565624276797)
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Starting local training for round 12...
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3462, Train Accuracy: 0.8125
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0962, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1697, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Validation Metrics: Loss=0.0533, Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Local training round 12 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Metrics: Train Loss=0.2041, Train Acc=0.9271, Val Loss=0.0533, Val Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_6 - INFO     - Final calculated quality score for round 12: 4.900349e+00 (from avg_train_loss: 0.2040660853187243)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_2 for round 12. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_6 for round 12. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 12: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 12...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [6.772426576456482, 4.9003493063966665]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 12 Validation Metrics: {'loss': 0.1492636047741946, 'accuracy': 0.9764705882352941, 'precision': 0.9642857142857143, 'recall': 0.9642857142857143, 'f1_score': 0.9642857142857143, 'auc': 0.9987468671679198}
2025-05-11 09:53:07 - federated.server          - INFO     - Round 12 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1493, Acc=0.9765 | Avg Client Train Loss=0.1759, Acc=0.9479
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 12 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 13 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 13/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 13: ['client_4', 'client_2']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 13: Server selected clients: ['client_4', 'client_2']
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Starting local training for round 13...
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.1322, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0809, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.0570, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Validation Metrics: Loss=0.3227, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Local training round 13 completed in 0.07s.
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Metrics: Train Loss=0.0900, Train Acc=1.0000, Val Loss=0.3227, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_4 - INFO     - Final calculated quality score for round 13: 1.110818e+01 (from avg_train_loss: 0.0900227390229702)
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Starting local training for round 13...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.2864, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1459, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.0720, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.1308, Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Local training round 13 completed in 0.05s.
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.1681, Train Acc=0.9375, Val Loss=0.1308, Val Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Final calculated quality score for round 13: 5.947792e+00 (from avg_train_loss: 0.16812861214081445)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_4 for round 13. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_2 for round 13. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 13: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 13...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [11.108181140363909, 5.947792225693502]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 13 Validation Metrics: {'loss': 0.19363521582940046, 'accuracy': 0.9882352941176471, 'precision': 1.0, 'recall': 0.9642857142857143, 'f1_score': 0.9818181818181818, 'auc': 0.9968671679197995}
2025-05-11 09:53:07 - federated.server          - INFO     - New best model found! Round 13, accuracy: 0.9882
2025-05-11 09:53:07 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_best.pt
2025-05-11 09:53:07 - federated.server          - INFO     - Round 13 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1936, Acc=0.9882 | Avg Client Train Loss=0.1291, Acc=0.9688
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 13 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 14 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 14/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 14: ['client_3', 'client_5']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 14: Server selected clients: ['client_3', 'client_5']
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Starting local training for round 14...
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.0881, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0762, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.0640, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.1501, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Local training round 14 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.0761, Train Acc=0.9688, Val Loss=0.1501, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_3 - INFO     - Final calculated quality score for round 14: 1.314173e+01 (from avg_train_loss: 0.07609248409668605)
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Starting local training for round 14...
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.4890, Train Accuracy: 0.8125
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0608, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1274, Train Accuracy: 0.9375
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Validation Metrics: Loss=0.2478, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Local training round 14 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Metrics: Train Loss=0.2257, Train Acc=0.9167, Val Loss=0.2478, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Final calculated quality score for round 14: 4.429984e+00 (from avg_train_loss: 0.22573346768816313)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_3 for round 14. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_5 for round 14. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 14: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 14...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [13.141729700921278, 4.429983645126947]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 14 Validation Metrics: {'loss': 0.1317718234132318, 'accuracy': 0.9529411764705882, 'precision': 0.9285714285714286, 'recall': 0.9285714285714286, 'f1_score': 0.9285714285714286, 'auc': 0.9956140350877193}
2025-05-11 09:53:07 - federated.server          - INFO     - Round 14 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1318, Acc=0.9529 | Avg Client Train Loss=0.1509, Acc=0.9427
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 14 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 15 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 15/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 15: ['client_8', 'client_1']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 15: Server selected clients: ['client_8', 'client_1']
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Starting local training for round 15...
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.5652, Train Accuracy: 0.7812
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.6024, Train Accuracy: 0.8125
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4641, Train Accuracy: 0.8750
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Validation Metrics: Loss=0.2554, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Local training round 15 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Metrics: Train Loss=0.5439, Train Acc=0.8229, Val Loss=0.2554, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Final calculated quality score for round 15: 1.838527e+00 (from avg_train_loss: 0.5439126392205557)
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Starting local training for round 15...
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.4686, Train Accuracy: 0.7500
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2659, Train Accuracy: 0.9062
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1398, Train Accuracy: 0.9375
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Validation Metrics: Loss=0.3329, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Local training round 15 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Metrics: Train Loss=0.2914, Train Acc=0.8646, Val Loss=0.3329, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Final calculated quality score for round 15: 3.431213e+00 (from avg_train_loss: 0.2914411624272664)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_8 for round 15. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_1 for round 15. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 15: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 15...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [1.8385271629390092, 3.431212531747408]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 15 Validation Metrics: {'loss': 0.15841189149548027, 'accuracy': 0.9647058823529412, 'precision': 0.9629629629629629, 'recall': 0.9285714285714286, 'f1_score': 0.9454545454545454, 'auc': 0.993734335839599}
2025-05-11 09:53:07 - federated.server          - INFO     - Round 15 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1584, Acc=0.9647 | Avg Client Train Loss=0.4177, Acc=0.8438
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 15 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 16 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 16/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 16: ['client_7', 'client_2']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 16: Server selected clients: ['client_7', 'client_2']
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Starting local training for round 16...
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3555, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.2300, Train Accuracy: 0.9062
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.3325, Train Accuracy: 0.8750
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Validation Metrics: Loss=0.2437, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Local training round 16 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Metrics: Train Loss=0.3060, Train Acc=0.8750, Val Loss=0.2437, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_7 - INFO     - Final calculated quality score for round 16: 3.267604e+00 (from avg_train_loss: 0.30603361626466113)
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Starting local training for round 16...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.1379, Train Accuracy: 0.9375
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0591, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.0633, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.1717, Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Local training round 16 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.0867, Train Acc=0.9792, Val Loss=0.1717, Val Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Final calculated quality score for round 16: 1.152841e+01 (from avg_train_loss: 0.08674124876658122)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_7 for round 16. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_2 for round 16. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 16: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 16...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [3.2676042083265258, 11.528407600902149]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 16 Validation Metrics: {'loss': 0.14244576061473174, 'accuracy': 0.9764705882352941, 'precision': 0.9642857142857143, 'recall': 0.9642857142857143, 'f1_score': 0.9642857142857143, 'auc': 0.9993734335839598}
2025-05-11 09:53:07 - federated.server          - INFO     - Round 16 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1424, Acc=0.9765 | Avg Client Train Loss=0.1964, Acc=0.9271
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 16 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 17 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 17/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 17: ['client_5', 'client_8']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 17: Server selected clients: ['client_5', 'client_8']
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Starting local training for round 17...
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.0978, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.0304, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.0634, Train Accuracy: 1.0000
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Validation Metrics: Loss=0.2626, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Local training round 17 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Metrics: Train Loss=0.0639, Train Acc=0.9896, Val Loss=0.2626, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_5 - INFO     - Final calculated quality score for round 17: 1.565519e+01 (from avg_train_loss: 0.06387557089328766)
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Starting local training for round 17...
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.4721, Train Accuracy: 0.7812
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.6159, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.3072, Train Accuracy: 0.9375
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Validation Metrics: Loss=0.3595, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Local training round 17 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Metrics: Train Loss=0.4651, Train Acc=0.8542, Val Loss=0.3595, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_8 - INFO     - Final calculated quality score for round 17: 2.150246e+00 (from avg_train_loss: 0.46506216128667194)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_5 for round 17. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_8 for round 17. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 17: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 17...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [15.655192287491484, 2.1502455649966756]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 17 Validation Metrics: {'loss': 0.11082420007270925, 'accuracy': 0.9647058823529412, 'precision': 0.9629629629629629, 'recall': 0.9285714285714286, 'f1_score': 0.9454545454545454, 'auc': 0.9956140350877193}
2025-05-11 09:53:07 - federated.server          - INFO     - Round 17 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1108, Acc=0.9647 | Avg Client Train Loss=0.2645, Acc=0.9219
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 17 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 18 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 18/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 18: ['client_2', 'client_9']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 18: Server selected clients: ['client_2', 'client_9']
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Starting local training for round 18...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.2237, Train Accuracy: 0.9062
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1587, Train Accuracy: 0.9375
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1066, Train Accuracy: 0.9688
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Validation Metrics: Loss=0.0902, Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Local training round 18 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Metrics: Train Loss=0.1630, Train Acc=0.9375, Val Loss=0.0902, Val Acc=1.0000
2025-05-11 09:53:07 - federated.client.client_2 - INFO     - Final calculated quality score for round 18: 6.134802e+00 (from avg_train_loss: 0.1630034496386846)
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Starting local training for round 18...
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.6706, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.7569, Train Accuracy: 0.7500
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.5522, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Validation Metrics: Loss=1.9952, Acc=0.5000
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Local training round 18 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Metrics: Train Loss=0.6599, Train Acc=0.8125, Val Loss=1.9952, Val Acc=0.5000
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Final calculated quality score for round 18: 1.515333e+00 (from avg_train_loss: 0.6599199970563253)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_2 for round 18. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_9 for round 18. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 18: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 18...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [6.134801854897816, 1.5153329026666027]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:07 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:07 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:07 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:07 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:07 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:07 - federated.server          - INFO     - Round 18 Validation Metrics: {'loss': 0.12650368546738344, 'accuracy': 0.9764705882352941, 'precision': 0.9642857142857143, 'recall': 0.9642857142857143, 'f1_score': 0.9642857142857143, 'auc': 0.9974937343358397}
2025-05-11 09:53:07 - federated.server          - INFO     - Round 18 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1265, Acc=0.9765 | Avg Client Train Loss=0.4115, Acc=0.8750
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Finished Round 18 =====
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - ----- Orchestrating Round 19 -----
2025-05-11 09:53:07 - federated.server          - INFO     - ===== Starting Round 19/20 =====
2025-05-11 09:53:07 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:07 - federated.server          - INFO     - Selected 2 clients for round 19: ['client_9', 'client_1']
2025-05-11 09:53:07 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 19: Server selected clients: ['client_9', 'client_1']
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Starting local training for round 19...
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.8193, Train Accuracy: 0.7812
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.4583, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.4880, Train Accuracy: 0.8438
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Validation Metrics: Loss=1.2731, Acc=0.5000
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Local training round 19 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Metrics: Train Loss=0.5885, Train Acc=0.8229, Val Loss=1.2731, Val Acc=0.5000
2025-05-11 09:53:07 - federated.client.client_9 - INFO     - Final calculated quality score for round 19: 1.699212e+00 (from avg_train_loss: 0.5885072449843088)
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Starting local training for round 19...
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.8369, Train Accuracy: 0.5938
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.7577, Train Accuracy: 0.6562
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.3748, Train Accuracy: 0.8750
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Validation Metrics: Loss=0.2504, Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Encrypting model delta...
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Local training round 19 completed in 0.04s.
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Metrics: Train Loss=0.6564, Train Acc=0.7083, Val Loss=0.2504, Val Acc=0.8750
2025-05-11 09:53:07 - federated.client.client_1 - INFO     - Final calculated quality score for round 19: 1.523351e+00 (from avg_train_loss: 0.6564464668432871)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_9 for round 19. (1/2 received)
2025-05-11 09:53:07 - federated.server          - INFO     - Stored update from client client_1 for round 19. (2/2 received)
2025-05-11 09:53:07 - cancer_detection_main     - INFO     - Round 19: Submitted 2 successful updates to server.
2025-05-11 09:53:07 - federated.server          - INFO     - Finalizing Round 19...
2025-05-11 09:53:07 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:07 - federated.server          - INFO     - Raw quality scores received: [1.6992115378547714, 1.5233511446221009]
2025-05-11 09:53:07 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:07 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:07 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:07 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:08 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:08 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:08 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:08 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:08 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:08 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:08 - federated.server          - INFO     - Round 19 Validation Metrics: {'loss': 0.17771864708732157, 'accuracy': 0.9764705882352941, 'precision': 0.9642857142857143, 'recall': 0.9642857142857143, 'f1_score': 0.9642857142857143, 'auc': 0.9943609022556391}
2025-05-11 09:53:08 - federated.server          - INFO     - Round 19 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.1777, Acc=0.9765 | Avg Client Train Loss=0.6225, Acc=0.7656
2025-05-11 09:53:08 - federated.server          - INFO     - ===== Finished Round 19 =====
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - ----- Orchestrating Round 20 -----
2025-05-11 09:53:08 - federated.server          - INFO     - ===== Starting Round 20/20 =====
2025-05-11 09:53:08 - federated.server          - INFO     - Available clients for selection: 10
2025-05-11 09:53:08 - federated.server          - INFO     - Selected 2 clients for round 20: ['client_1', 'client_3']
2025-05-11 09:53:08 - federated.server          - INFO     - Exporting PLAIN global model parameters for round start...
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Round 20: Server selected clients: ['client_1', 'client_3']
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Starting local training for round 20...
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.3293, Train Accuracy: 0.8125
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.3548, Train Accuracy: 0.8750
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.1056, Train Accuracy: 1.0000
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Validation Metrics: Loss=0.2307, Acc=1.0000
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Encrypting model delta...
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Saved checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/client_client_1/model_round_round_20.pt
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Local training round 20 completed in 0.04s.
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Metrics: Train Loss=0.2632, Train Acc=0.8958, Val Loss=0.2307, Val Acc=1.0000
2025-05-11 09:53:08 - federated.client.client_1 - INFO     - Final calculated quality score for round 20: 3.798905e+00 (from avg_train_loss: 0.2632327551643054)
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Starting local training for round 20...
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Round Config: Epochs=3, LR=0.01
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Using Adam optimizer with LR=0.01
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Epoch 1/3 finished in 0.00s. Avg Train Loss: 0.2270, Train Accuracy: 0.9062
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Epoch 2/3 finished in 0.00s. Avg Train Loss: 0.1200, Train Accuracy: 0.9688
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Epoch 3/3 finished in 0.00s. Avg Train Loss: 0.0466, Train Accuracy: 1.0000
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Evaluating model on local validation set...
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Validation Metrics: Loss=0.2233, Acc=1.0000
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Encrypting model delta...
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Saved checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/client_client_3/model_round_round_20.pt
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Local training round 20 completed in 0.04s.
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Metrics: Train Loss=0.1312, Train Acc=0.9583, Val Loss=0.2233, Val Acc=1.0000
2025-05-11 09:53:08 - federated.client.client_3 - INFO     - Final calculated quality score for round 20: 7.622386e+00 (from avg_train_loss: 0.13119151815772057)
2025-05-11 09:53:08 - federated.server          - INFO     - Stored update from client client_1 for round 20. (1/2 received)
2025-05-11 09:53:08 - federated.server          - INFO     - Stored update from client client_3 for round 20. (2/2 received)
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Round 20: Submitted 2 successful updates to server.
2025-05-11 09:53:08 - federated.server          - INFO     - Finalizing Round 20...
2025-05-11 09:53:08 - federated.server          - INFO     - Starting aggregation process...
2025-05-11 09:53:08 - federated.server          - INFO     - Raw quality scores received: [3.798904891114058, 7.622385895495907]
2025-05-11 09:53:08 - federated.server          - INFO     - Quality-aware aggregation disabled. Using FedAvg (sample-size based weights).
2025-05-11 09:53:08 - federated.server          - INFO     - Aggregating 2 delta updates. Aggregation weights: ['0.500', '0.500']
2025-05-11 09:53:08 - federated.server          - INFO     - Updates (deltas) are encrypted.
2025-05-11 09:53:08 - federated.server          - INFO     - Performing secure aggregation of encrypted DELTAS with HE...
2025-05-11 09:53:08 - federated.server          - INFO     - Decrypting aggregated delta...
2025-05-11 09:53:08 - federated.server          - INFO     - Decryption of aggregated delta took 0.01s
2025-05-11 09:53:08 - federated.server          - INFO     - Applying aggregated delta to global model...
2025-05-11 09:53:08 - federated.server          - INFO     - Successfully applied aggregated delta to 10 model parameter groups.
2025-05-11 09:53:08 - federated.server          - INFO     - Aggregation and model update (with deltas) completed in 0.03s.
2025-05-11 09:53:08 - federated.server          - INFO     - Evaluating updated global model (Validation)...
2025-05-11 09:53:08 - federated.server          - INFO     - Round 20 Validation Metrics: {'loss': 0.2588211974676918, 'accuracy': 0.9764705882352941, 'precision': 0.9642857142857143, 'recall': 0.9642857142857143, 'f1_score': 0.9642857142857143, 'auc': 0.9667919799498746}
2025-05-11 09:53:08 - federated.server          - INFO     - Round 20 Summary (0.04s): Selected=2, Received=2. Global Eval Loss=0.2588, Acc=0.9765 | Avg Client Train Loss=0.1972, Acc=0.9271
2025-05-11 09:53:08 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_round_20.pt
2025-05-11 09:53:08 - federated.server          - INFO     - ===== Finished Round 20 =====
2025-05-11 09:53:08 - federated.server          - INFO     - Maximum rounds reached.
2025-05-11 09:53:08 - federated.server          - INFO     - ===== Running Final Evaluation on Test Set =====
2025-05-11 09:53:08 - federated.server          - INFO     - Final Test Metrics: {'loss': 0.30898428489180174, 'accuracy': 0.9058823529411765, 'precision': 0.8947368421052632, 'recall': 0.8947368421052632, 'f1_score': 0.8947368421052632, 'auc': 0.9636058230683091}
2025-05-11 09:53:08 - federated.server          - INFO     - Training history saved to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/results/fl_data_S1_Normal_FL_HE_run1_training_history.json
2025-05-11 09:53:08 - federated.server          - INFO     - ==============================================
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Demonstrating prediction with the final global model...
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Sample for prediction: Actual Target=0.0, Predicted Probability (Malignant)=0.2286, Predicted Class (0=Benign, 1=Malignant)=0
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Federated learning simulation loop finished.
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Shutting down server...
2025-05-11 09:53:08 - federated.server          - INFO     - Stopping federated learning server...
2025-05-11 09:53:08 - federated.server          - INFO     - Saved global model checkpoint to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/checkpoints/server/global_model_final.pt
2025-05-11 09:53:08 - federated.server          - INFO     - Training history saved to experiment_results/S1_Normal_FL_HE_run1_20250511_095252/results/fl_data_S1_Normal_FL_HE_run1_training_history.json
2025-05-11 09:53:08 - federated.server          - INFO     - Federated server stopped.
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Federated learning process terminated.
2025-05-11 09:53:08 - cancer_detection_main     - INFO     - Main script finished.
